Epic: Freelancer Star Rating System
Goal: Allow recruiters to rate freelancers after a confirmed booking (or upon request by freelancer), showing a simple 1â€“5 star score with average rating & number of reviews on the freelancerâ€™s profile.
________________________________________
 User Stories
1. Rating Submission (Recruiter â†’ Freelancer)
As a Recruiter, I want to rate a freelancer with 1â€“5 stars after a confirmed booking ends, so that I can provide feedback on their performance.
â€¢	AC1: Recruiter can only submit rating for freelancers they had a confirmed booking with.
â€¢	AC2: Rating scale is limited to whole stars (1â€“5).
â€¢	AC3: Once submitted, rating is stored against the freelancerâ€™s profile.
â€¢	AC4: Recruiter sees a confirmation message (â€œThanks for rating [Freelancer Name]â€).
________________________________________
2. Rating Upon Request (Freelancer â†’ Recruiter)
As a Freelancer, I want to request a rating from a recruiter I worked with, so that my profile reflects verified feedback.
â€¢	AC1: Freelancer can send rating requests only to recruiters with whom they had a confirmed booking.
â€¢	AC2: Recruiter receives notification/email with a link to rate the freelancer.
â€¢	AC3: Recruiter can choose to accept, ignore, or decline the request.
â€¢	AC4: Once rated, request is marked as â€œcompletedâ€ in the freelancerâ€™s profile history.
________________________________________
3. Display Ratings on Freelancer Profile
As a Recruiter or Freelancer viewing a profile, I want to see the freelancerâ€™s average rating and number of ratings, so that I can quickly assess their reliability.
â€¢	AC1: Display average score (1â€“5) at the top of the freelancerâ€™s profile.
â€¢	AC2: Display total number of ratings (e.g., â€œâ­ 4.6 (23 ratings)â€).
â€¢	AC3: Average score updates in real-time when a new rating is submitted.
â€¢	AC4: If no ratings yet â†’ show placeholder text (â€œNo ratings yetâ€).
________________________________________
4. Prevent Rating Abuse
As a Platform Admin, I want to ensure ratings are only submitted by valid recruiters, so that the system is fair and cannot be manipulated.
â€¢	AC1: A recruiter can only rate a freelancer once per confirmed booking.
â€¢	AC2: Duplicate ratings for the same job are blocked.
â€¢	AC3: Suspicious rating patterns (e.g., multiple 1-star spam) trigger an admin review flag.
â€¢	AC4: Admin can delete inappropriate or abusive ratings.
________________________________________
5. Freelancer Rating Dashboard 
As a Freelancer, I want to see my detailed rating history, so that I can understand my strengths and areas for improvement.
â€¢	AC1: Freelancer can see a list of all ratings given by recruiters.
â€¢	AC2: Ratings displayed with recruiter name, job reference, and date.
â€¢	AC3: No written reviews at MVP stage (future enhancement).
________________________________________
6. Notifications
As a Freelancer, I want to be notified when a recruiter rates me, so that I know my profile has been updated.
â€¢	AC1: System sends in-app notification after rating is submitted.
â€¢	AC2: Optional: Email notification confirming rating.
â€¢	AC3: Recruiter notified if rating request is accepted and submitted.
________________________________________
User Story: Freelancer Requests Rating from Recruiter
Story:
As a Freelancer, I want to request a rating from a recruiter I worked with, so that my profile reflects verified feedback even if the recruiter hasnâ€™t rated me yet.
________________________________________
âœ… Acceptance Criteria
AC1 â€“ Eligibility
â€¢	Freelancer can only request a rating from recruiters tied to completed confirmed bookings.
â€¢	A freelancer cannot send a request if the recruiter has already rated them for that booking.
â€¢	Each booking allows only one rating request.
AC2 â€“ Request Action
â€¢	On the booking details page, freelancer sees a â€œRequest Ratingâ€ button.
â€¢	Clicking triggers confirmation modal: â€œDo you want to request a rating from [Recruiter Name]?â€
â€¢	Once confirmed, request is logged and cannot be resent.
AC3 â€“ Recruiter Notification
â€¢	Recruiter receives notification/email:
o	Subject: â€œ[Freelancer Name] has requested a rating for your recent bookingâ€
o	Body: Contains freelancer name, booking reference, and direct link to rating form.
â€¢	Recruiter can choose to:
o	Submit Rating (redirects to rating form).
o	Ignore Request (no response needed).
o	Decline Request (optional feature, sends polite decline to freelancer).
AC4 â€“ Tracking Requests
â€¢	Freelancer can see status of requests:
o	Pending â€“ waiting on recruiter.
o	Completed â€“ rating submitted.
o	Declined â€“ recruiter declined (if feature enabled).
â€¢	Recruiter can see list of pending rating requests in their dashboard.
AC5 â€“ Security & Validation
â€¢	Rating requests tied to booking ID to prevent spamming recruiters.
â€¢	Only authenticated freelancers can request.
â€¢	Recruiters can only submit rating once per booking (same as direct flow).
AC6 â€“ Notifications
â€¢	Freelancer notified when recruiter responds (rating submitted or declined).
â€¢	Recruiter notified when freelancer sends request.
AC7 â€“ Error Handling
â€¢	If freelancer tries to request without valid booking â†’ show: â€œYou cannot request a rating for this recruiter.â€
â€¢	If recruiter tries to follow expired/invalid link â†’ show: â€œThis rating request is no longer valid.â€
â€¢	If server error â†’ retry logic or message: â€œUnable to send request, please try again.â€
________________________________________
ğŸ— Technical Tasks
Frontend (Freelancer side)
1.	Add â€œRequest Ratingâ€ button to booking history details.
2.	Add confirmation modal before sending request.
3.	Show request status tracker on booking details page.
4.	Handle error and success messages.
Frontend (Recruiter side)
1.	Add notifications panel entry when request is received.
2.	Create rating request inbox in recruiter dashboard.
3.	Add â€œSubmit Ratingâ€ button linking to existing rating form.
4.	Optional: Add â€œDecline Requestâ€ action.
Backend
1.	Create API endpoint to send rating requests (POST /api/ratings/request).
2.	Store requests in database (RatingRequests { id, booking_id, freelancer_id, recruiter_id, status, created_at }).
3.	Trigger email/notification to recruiter.
4.	When recruiter submits rating via link, update request status = â€œcompleted.â€
Database
â€¢	New table: RatingRequests.
â€¢	Foreign keys to Bookings, Recruiters, Freelancers.
â€¢	Status field: [Pending, Completed, Declined].
Notifications & Email
â€¢	In-app notification to recruiter upon request.
â€¢	Email integration (SendGrid, SES, etc.) for rating request.
â€¢	Notify freelancer when recruiter completes action.
Testing
â€¢	Unit tests for request submission API.
â€¢	Integration tests for end-to-end flow (Freelancer â†’ Recruiter â†’ Rating).
â€¢	UI tests for request button, status tracker, recruiter inbox.
â€¢	Negative tests: multiple requests for same booking, invalid users.


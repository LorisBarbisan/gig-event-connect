As a Platform User
I want conversations with deleted users to clearly show an "Account Deleted" tag at the bottom
So that I understand the user is no longer active, and the conversation has a clear endpoint.

âœ… Acceptance Criteria
Display & Tagging

 When a user deletes their account, all their conversations remain visible to the other participants.

 At the bottom of each conversation thread, an â€œAccount Deletedâ€ tag is displayed.

 The tag must be visually distinct (e.g., greyed out, italic, system message style).

 The tag appears in all usersâ€™ message tabs who had conversations with the deleted user.

 The tag cannot be removed, edited, or replied to.

Behavior

 Users cannot send new messages to a deleted account.

 If a user tries to send a message, they see an error: â€œThis account has been deleted and can no longer receive messages.â€

 Conversations with deleted users remain accessible in read-only mode.

Data Integrity

 The deleted userâ€™s messages remain visible to other users (not erased).

 The deleted userâ€™s profile details (name, photo) may be anonymized (e.g., replaced with â€œDeleted Userâ€), depending on compliance needs.

 The system logs the deletion event for auditing.

Testing

 Deletion works for 1:1 conversations.

 Deletion works for group chats (if supported), with the deleted user removed from the group and tagged accordingly.

 Works across all platforms: web, mobile, email notifications.

ğŸ”¨ Breakdown of Work / Approach
Backend

User Deletion Flow

Mark user as deleted in the database (soft delete for audit/history).

Trigger cascade logic to update all conversations involving this user.

Messaging Service Update

Append an â€œAccount Deletedâ€ system message at the end of each conversation thread.

Prevent sending of new messages to deleted users (validation check).

API Changes

Update GET /messages endpoint to return the â€œAccount Deletedâ€ status where applicable.

Frontend

Conversation UI

Display â€œAccount Deletedâ€ tag at the bottom of affected conversations.

Style it consistently with other system messages.

Disable input field for messaging deleted accounts.

Error Handling

Show user-friendly error if a message is attempted to a deleted account.

QA / Testing Approach

Create test accounts, exchange messages, delete one account â†’ check tag appears.

Verify conversation history persists but no new messages can be sent.

Test across edge cases:

User with no messages deletes account â†’ no action needed.

Group conversation â†’ ensure tag is only for the deleted participant.

Check database audit log.